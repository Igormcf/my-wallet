(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logomywallet.da84bafd.png"},32:function(e,t,a){e.exports=a.p+"static/media/img4.8ad3333b.png"},35:function(e,t,a){e.exports=a(53)},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),c=a.n(r),i=a(23),o=(a(40),a(10)),s=a(2),u=a(12),m=a(13),d=a(14),p=a(5),h=a(16),E=a(15),b=a(18),v=a.n(b),f=a(25),g=(a(46),a(32)),y=a.n(g),x=a(20),j=a.n(x),O=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={email:"",senha:"",isEnterButtonDisabled:!0},e.handleChangeInputs=e.handleChangeInputs.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e.onSubmitBtn=e.onSubmitBtn.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"onSubmitBtn",value:function(){var e=this.props,t=e.history;(0,e.dispatchUser)(this.state.email),t.push("/carteira")}},{key:"handleChangeInputs",value:function(e){var t=this,a=e.target,n=a.name,l=a.value;this.setState(Object(u.a)({},n,l),(function(){return t.validate()}))}},{key:"validate",value:function(){var e=this.state,t=e.email,a=e.senha,n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),l=a.length>=6;n&&l?this.setState({isEnterButtonDisabled:!1}):this.setState({isEnterButtonDisabled:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.senha,n=e.isEnterButtonDisabled;return l.a.createElement("body",{className:"body-login"},l.a.createElement("header",{className:"header-login"},l.a.createElement("img",{src:j.a,alt:"logo",className:"img-logo"})),l.a.createElement("main",{className:"container-login"},l.a.createElement("section",{className:"section-form"},l.a.createElement("form",{className:"form-login"},l.a.createElement("h1",null,"Login"),l.a.createElement("div",{className:"group"},l.a.createElement("input",{className:"input-login",required:!0,"data-testid":"email-input",name:"email",id:"email",type:"text",value:t,onChange:this.handleChangeInputs}),l.a.createElement("span",{className:"highlight"}),l.a.createElement("span",{className:"bar"}),l.a.createElement("label",{htmlFor:"email",className:"label-login"},"E-mail")),l.a.createElement("div",{className:"group"},l.a.createElement("input",{className:"input-login",required:!0,"data-testid":"password-input",name:"senha",id:"senha",type:"password",value:a,onChange:this.handleChangeInputs}),l.a.createElement("span",{className:"highlight"}),l.a.createElement("span",{className:"bar"}),l.a.createElement("label",{htmlFor:"senha",className:"label-login"},"Senha"))),l.a.createElement("button",{id:"btn-login",type:"button",disabled:n,onClick:this.onSubmitBtn},"Entrar")),l.a.createElement("section",{className:"section-login"},l.a.createElement("img",{src:y.a,alt:"porquinho-login",className:"img-login"}))))}}]),a}(l.a.Component),N=Object(o.b)(null,(function(e){return{dispatchUser:function(t){return e(function(e){return{type:"INFO_LOGIN",payload:e}}(t))}}}))(O),w=a(21),C=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).onDeleteExpenseBtn=e.onDeleteExpenseBtn.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"onDeleteExpenseBtn",value:function(e){(0,this.props.deleteItem)(this.props.expenses.filter((function(t){return t!==e})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.expenses,n=t.itemForEdit;return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Descri\xe7\xe3o"),l.a.createElement("th",null,"Tag"),l.a.createElement("th",null,"M\xe9todo de pagamento"),l.a.createElement("th",null,"Valor"),l.a.createElement("th",null,"Moeda"),l.a.createElement("th",null,"C\xe2mbio utilizado"),l.a.createElement("th",null,"Valor convertido"),l.a.createElement("th",null,"Moeda de convers\xe3o"),l.a.createElement("th",null,"Editar/Excluir"))),l.a.createElement("tbody",null,a.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.tag),l.a.createElement("td",null,t.method),l.a.createElement("td",null,parseFloat(t.value).toFixed(2)),l.a.createElement("td",null,t.exchangeRates[t.currency].name),l.a.createElement("td",null,parseFloat(t.exchangeRates[t.currency].ask).toFixed(2)),l.a.createElement("td",null,(parseFloat(t.exchangeRates[t.currency].ask)*t.value).toFixed(2)),l.a.createElement("td",null,"Real"),l.a.createElement("td",null,l.a.createElement("button",{type:"button",id:"edit-btn","data-testid":"edit-btn",onClick:function(){return n(t.id)}},"Editar"),l.a.createElement("button",{id:"delet-btn",type:"button","data-testid":"delete-btn",onClick:function(){return e.onDeleteExpenseBtn(t)}},"Excluir")))}))))}}]),a}(l.a.Component),D=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteItem:function(t){return e(function(e){return{type:"DELET_EXPENSE",payload:e}}(t))},itemForEdit:function(t){return e(function(e){return{type:"BTN_EDIT",payload:e}}(t))}}}))(C),F=(a(47),0),S=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",isButtonDisabled:!0},e.handleChangeInputs=e.handleChangeInputs.bind(Object(p.a)(e)),e.validate=e.validate.bind(Object(p.a)(e)),e.onAddBtn=e.onAddBtn.bind(Object(p.a)(e)),e.onSubmitExpenseEdited=e.onSubmitExpenseEdited.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.coinsFetch)()}},{key:"onSubmitExpenseEdited",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.description,l=e.method,r=e.tag,c=this.props,i=c.expenses,o=c.id,s=c.editExpensefunc,u=Object(w.a)(i),m=u[parseFloat(o)];m.value=t,m.currency=a,m.description=n,m.method=l,m.tag=r,s(u),this.setState({value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",isButtonDisabled:!0})}},{key:"onAddBtn",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.description,l=e.method,r=e.tag;(0,this.props.expensesFunc)({id:F,value:t,description:n,currency:a,method:l,tag:r}),F+=1,this.setState({value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"})}},{key:"handleChangeInputs",value:function(e){var t=this,a=e.target,n=a.name,l=a.value;this.setState(Object(u.a)({},n,l),(function(){return t.validate()}))}},{key:"validate",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.description,l=e.method,r=e.tag;t&&a&&n&&l&&r?this.setState({isButtonDisabled:!1}):this.setState({isButtonDisabled:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.email,n=t.currencies,r=t.expenses,c=t.btnForm,i=this.state,o=i.value,s=i.currency,u=i.description,m=i.method,d=i.tag,p=i.isButtonDisabled,h=r.reduce((function(e,t){return e+=t.value*parseFloat(t.exchangeRates[t.currency].ask)}),0);return l.a.createElement("div",{className:"container-wallet"},l.a.createElement("header",{className:"header-wallet"},l.a.createElement("img",{src:j.a,alt:"logo",className:"img-logo-wallet"}),l.a.createElement("section",{className:"section-info-expenses"},l.a.createElement("div",{className:"info-expense"},l.a.createElement("p",null,l.a.createElement("b",null,"E-mail:")),l.a.createElement("span",null,l.a.createElement("p",{"data-testid":"email-field"},a))),l.a.createElement("div",{className:"info-expense"},l.a.createElement("p",null,l.a.createElement("b",null,"Despesas totais:")),l.a.createElement("span",null,l.a.createElement("p",{"data-testid":"total-field"},h.toFixed(2)))),l.a.createElement("div",{className:"info-expense"},l.a.createElement("p",null,l.a.createElement("b",null,"C\xe2mbio usado:")),l.a.createElement("span",null,l.a.createElement("p",{"data-testid":"header-currency-field"},"BRL"))))),l.a.createElement("nav",{className:"nav-wallet"},l.a.createElement("form",{className:"form-wallet"},l.a.createElement("label",{htmlFor:"value"},l.a.createElement("b",null,"Valor:"),l.a.createElement("input",{type:"number",name:"value","data-testid":"value-input",id:"value",value:o,onChange:this.handleChangeInputs}))," ",l.a.createElement("label",{htmlFor:"currency"},l.a.createElement("b",null,"Moeda:"),l.a.createElement("select",{"data-testid":"currency-input",id:"currency",name:"currency",value:s,onChange:this.handleChangeInputs},n.map((function(e){return l.a.createElement("option",{key:e,className:"option"},e)}))))," ",l.a.createElement("label",{htmlFor:"description"},l.a.createElement("b",null,"Descri\xe7\xe3o:"),l.a.createElement("input",{type:"text",name:"description","data-testid":"description-input",id:"description",value:u,onChange:this.handleChangeInputs}))," ",l.a.createElement("label",{htmlFor:"method"},l.a.createElement("b",null,"M\xe9todo de pagamento:"),l.a.createElement("select",{id:"method",name:"method","data-testid":"method-input",value:m,onChange:this.handleChangeInputs},l.a.createElement("option",{className:"option"},"Dinheiro"),l.a.createElement("option",{className:"option"},"Cart\xe3o de cr\xe9dito"),l.a.createElement("option",{className:"option"},"Cart\xe3o de d\xe9bito")))," ",l.a.createElement("label",{htmlFor:"tag"},l.a.createElement("b",null,"Categoria:"),l.a.createElement("select",{id:"tag",name:"tag","data-testid":"tag-input",value:d,onChange:this.handleChangeInputs},l.a.createElement("option",{className:"option"},"Alimenta\xe7\xe3o"),l.a.createElement("option",{className:"option"},"Lazer"),l.a.createElement("option",{className:"option"},"Trabalho"),l.a.createElement("option",{className:"option"},"Transporte"),l.a.createElement("option",{className:"option"},"Sa\xfade"))),l.a.createElement("button",{id:"btn-form-wallet",type:"button",disabled:p,onClick:c?function(){return e.onAddBtn()}:function(){return e.onSubmitExpenseEdited()}},c?"Adicionar despesa":"Editar despesa"))),l.a.createElement("main",{className:"main-wallet"},l.a.createElement(D,null)))}}]),a}(l.a.Component),k=Object(o.b)((function(e){return{email:e.user.email,currencies:e.wallet.currencies,expenses:e.wallet.expenses,btnForm:e.wallet.btnForm,id:e.wallet.id}}),(function(e){return{coinsFetch:function(){return e(function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,l=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:"INFO_WALLET",payload:l});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},expensesFunc:function(t){return e(function(e){return function(){var t=Object(f.a)(v.a.mark((function t(a){var n,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return n=t.sent,t.next=5,n.json();case 5:l=t.sent,e.exchangeRates=l,a({type:"LIST_EXPENSE",payload:e});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editExpensefunc:function(t){return e(function(e){return{type:"EDIT_EXPENSE",payload:e}}(t))}}}))(S);var I=function(){return l.a.createElement("div",null,l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:N}),l.a.createElement(s.a,{exact:!0,path:"/carteira",component:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(9),T=a(33),L=a(34),_=a(4),A={email:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFO_LOGIN":return Object(_.a)(Object(_.a)({},e),{},{email:t.payload});default:return e}},M={currencies:[],expenses:[],btnForm:!0,id:0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFO_WALLET":return Object(_.a)(Object(_.a)({},e),{},{currencies:t.payload});case"LIST_EXPENSE":return Object(_.a)(Object(_.a)({},e),{},{expenses:[].concat(Object(w.a)(e.expenses),[t.payload])});case"DELET_EXPENSE":return Object(_.a)(Object(_.a)({},e),{},{expenses:t.payload});case"BTN_EDIT":return Object(_.a)(Object(_.a)({},e),{},{btnForm:!1,id:t.payload});case"EDIT_EXPENSE":return Object(_.a)(Object(_.a)({},e),{},{btnForm:!0,expenses:t.payload});default:return e}},U=Object(B.combineReducers)({user:R,wallet:P}),X=Object(B.createStore)(U,Object(T.composeWithDevTools)(Object(B.applyMiddleware)(L.a)));c.a.render(l.a.createElement(i.a,{basename:"/my-wallet"},l.a.createElement(o.a,{store:X},l.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.6c56cdd0.chunk.js.map